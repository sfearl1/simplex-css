(function(){"use strict";const R=.3333333333333333,d=1/6,O=n=>Math.floor(n)|0,U=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function V(n=Math.random){const i=_(n),s=new Float64Array(i).map(h=>U[h%12*3]),t=new Float64Array(i).map(h=>U[h%12*3+1]),a=new Float64Array(i).map(h=>U[h%12*3+2]);return function(o,A,M){let j,w,G,z;const F=(o+A+M)*R,k=O(o+F),q=O(A+F),D=O(M+F),Y=(k+q+D)*d,Z=k-Y,P=q-Y,v=D-Y,p=o-Z,r=A-P,g=M-v;let m,y,f,S,b,l;p>=r?r>=g?(m=1,y=0,f=0,S=1,b=1,l=0):p>=g?(m=1,y=0,f=0,S=1,b=0,l=1):(m=0,y=0,f=1,S=1,b=0,l=1):r<g?(m=0,y=0,f=1,S=0,b=1,l=1):p<g?(m=0,y=1,f=0,S=0,b=1,l=1):(m=0,y=1,f=0,S=1,b=1,l=0);const e=p-m+d,u=r-y+d,C=g-f+d,T=p-S+2*d,E=r-b+2*d,J=g-l+2*d,K=p-1+3*d,L=r-1+3*d,Q=g-1+3*d,H=k&255,I=q&255,N=D&255;let W=.6-p*p-r*r-g*g;if(W<0)j=0;else{const c=H+i[I+i[N]];W*=W,j=W*W*(s[c]*p+t[c]*r+a[c]*g)}let X=.6-e*e-u*u-C*C;if(X<0)w=0;else{const c=H+m+i[I+y+i[N+f]];X*=X,w=X*X*(s[c]*e+t[c]*u+a[c]*C)}let x=.6-T*T-E*E-J*J;if(x<0)G=0;else{const c=H+S+i[I+b+i[N+l]];x*=x,G=x*x*(s[c]*T+t[c]*E+a[c]*J)}let B=.6-K*K-L*L-Q*Q;if(B<0)z=0;else{const c=H+1+i[I+1+i[N+1]];B*=B,z=B*B*(s[c]*K+t[c]*L+a[c]*Q)}return 32*(j+w+G+z)}}function _(n){const s=new Uint8Array(512);for(let t=0;t<512/2;t++)s[t]=t;for(let t=0;t<512/2-1;t++){const a=t+~~(n()*(256-t)),h=s[t];s[t]=s[a],s[a]=h}for(let t=256;t<512;t++)s[t]=s[t-256];return s}registerPaint("simplex",class{static get inputProperties(){return["--seed","--animate","--line-width","--color","--line-count","--amplitude","--frequency","--speed","--scale-x","--scale-y","--overall-scale","--angle","--opacity","--smoothing","--circle","--strength-x","--strength-y","--line-spacing"]}paint(n,i,s){const t=i.width,a=i.height,h=l=>function(){var e=l+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296},o=(l,e)=>{const u=s.get("--"+l);return u?parseFloat(u.toString().trim()):e},A=o("seed",55555),M=o("animate",0),j=o("speed",1),w=o("line-count",146),G=o("line-width",.2),z=o("line-spacing",.5),F=o("amplitude",10),k=o("frequency",.3),q=o("opacity",.05),D=o("smoothing",3),Y=o("angle",0),Z=o("overall-scale",1),P=a*.3*Z;let v=o("scale-x",1),p=o("scale-y",1);v*=Math.min(t,a)*.1,p*=a*.1;let r=s.get("--color"),g;r==null||r.toString().trim()===""?g="rgba(255, 255, 255, 0.05)":g=r.toString(),n.globalCompositeOperation="lighter";const m=M*(j*10);n.save(),n.translate(t/2,a/2),n.rotate(Y*Math.PI/180),n.translate(-t/2,-a/2),n.globalAlpha=q,n.lineWidth=G,n.strokeStyle=g;const y=h(A),f=V(y),S=w*z,b=(a-S)/2;for(let l=0;l<w;l++){const e=b+l*z;n.beginPath();for(let u=-v;u<t+v;u+=D){let C=f(u/P*k,e/P,m)*F*v,T=f(u/P*k+1e3,e/P+1e3,m+1e3)*F*p;n.lineTo(u+C,e+T)}n.stroke()}n.restore()}})})();
